{"version":3,"file":"three-world.min-bundle.js","sources":["three-world.dev-bundle.js"],"names":["code","exports","module","THREE","World","create","domEl","options","thenDo","useVR","useOrbitControl","width","window","innerWidth","height","innerHeigh","world","renderer","events","scene","camera","orbitControl","vr","_animationCallbacks","_timedAnimationCallbacks","startLoop","bind","stopLoop","addAnimationCallback","removeAnimationCallback","onResize","enterFullScreen","destroy","init","domElement","Scene","r","WebGLRenderer","antialias","appendChild","PerspectiveCamera","aspect","updateProjectionMatrix","add","hasVRSupport","effect","VREffect","control","VRControls","setSize","whenHeadmountDisplayReady","alert","_onResize","addEventListener","OrbitControls","animate","loop","requestAnimationFrame","evt","type","defaultPrevented","preventDefault","this","callbackIds","Object","keys","i","length","update","render","innerHeight","state","navigator","mozGetVRDevices","getVRDevices","then","devices","forEach","dev","HMDVRDevice","hmd","PositionSensorVRDevice","positionSensor","posState","getState","hasHeadmountDisplay","timeStamp","isPseudoVR","Error","name","timed","clearInterval","intervalId","setInterval","callback","cancelAnimationFrame","intervalTime","fn","undefined","Date","now","time","delta","removeAllAnimationCallback","k","gatherDisposal","obj","thrash","geometry","material","map","filter","ea","dispose","children","reduce","concat","setFullScreen","mozRequestFullScreen","removeEventListener","parentNode","removeChild"],"mappings":"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"}